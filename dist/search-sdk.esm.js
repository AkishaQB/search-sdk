class t{constructor(t){this.ttlMs=t,this.store=new Map}set(t,e){const n=Date.now()+this.ttlMs;this.store.set(t,{value:e,expiresAt:n})}get(t){const e=this.store.get(t);if(e){if(!(Date.now()>e.expiresAt))return e.value;this.store.delete(t)}}}function e({debounceMs:e,maxCalls:n,interval:r,cacheTtl:o}){const s=function({max:t,interval:e}){let n=t,r=Date.now();const o=t/e;return{acquire(){const e=Date.now(),s=e-r;return n=Math.min(t,n+s*o),r=e,n>=1&&(n-=1,!0)}}}({max:n,interval:r}),i=new t(o);return function(t,e=200){let n=null;function r(...r){const o=this;n=setTimeout(()=>{t.apply(o,r),n=null},e)}return r.cancel=function(){n&&(clearTimeout(n),n=null)},r}(async t=>{const e=i.get(queryParam);if(void 0!==e)return e;if(!s.acquire())throw new Error("Rate limit exceeded");const n=await t();return console.log("Fetched from network:",n),i.set(query,n),n},e)}export{e as SearchClient};
//# sourceMappingURL=search-sdk.esm.js.map
